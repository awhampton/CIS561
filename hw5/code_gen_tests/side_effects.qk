/* test side effects in method calls */

// Test custom class
class Counter(x: Int) {
    this.counter = x;

    def increment() : Int {
        this.counter = this.counter + 1;
        return this.counter;
    }

    def get() : Int {
        return this.counter;
    }

    def STR() : String {
       return this.counter.STR();
    }

    def PRINT() : Counter {
        ("counter: " + this.STR() + "\n").PRINT();
        return this;
    }

}

my_counter = Counter(0);
my_counter.PRINT();  /* this should print counter: 0 */

my_counter.increment();
my_counter.PRINT(); /* this should print counter: 1 */

my_counter.increment().PRINT();  /* this should print 2 */
"\n".PRINT();
